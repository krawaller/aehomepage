(function(){var bicheats,binaryops,constants,deepcopy,exportTo,funs,helpers,ifelse,k,postunary,preunary,textprinter,v;if(typeof require==="function"){helpers=require("./helpers")}else{helpers=this.CATS.app.helpers}binaryops={sum:"+",product:"*",fraction:"/",power:"^",AND:{en:"and",sv:"och"},OR:{en:"or",sv:"eller"},root:{en:"root",sv:"rot"},DIVTEST:{en:"divby",sv:"delas"},log:"log",eq:"=",neq:"!=",lt:"<",leq:"<=",gt:">",geq:">="};postunary={ispolynomial:"poly",ismonomial:"mon",ismonfac:{en:"monfac",sv:"monfak"},isinteger:{en:"int",sv:"hel"},isprime:"prim"};preunary={varcount:{en:"varcount",sv:"antalvar"},absolute:"abs",plusminus:"+-",negation:"-",NOT:{en:"not",sv:"ej"}};constants={undefined:{en:"undefined",sv:"odefinierad"},"true":{en:"true",sv:"sant"},"false":{en:"false",sv:"falsk"},percent:"%",e:"e",pi:"pi",i:"i"};ifelse={"if":{en:"if",sv:"om"},then:{en:"then",sv:"sÃ¥"},"else":{en:"else",sv:"annars"}};bicheats={rootnumber2:{en:"sqrt",sv:"rot"},rootnumber3:{en:"cbrt",sv:"kubrot"},lognumber10:{en:"log",sv:"log"},logconste:{en:"ln",sv:"ln"}};deepcopy=function(o){var key,res,val;if(typeof o==="string"){return o+""}if(typeof o==="number"){return o}res=Array.isArray(o)?[]:{};for(key in o){val=o[key];res[key]=typeof val==="object"?deepcopy(val):val}return res};textprinter=function(o,pos,parent,lang){var bicheat,imp,n,neworder,s,str,term,_ref;str=function(){var _i,_len,_ref,_ref1;switch(o.type){case"true":case"false":case"const":if(!constants[o.val||o.type]){console.log("The fff?",o.type,o.val)}return constants[o.val||o.type][lang]||constants[o.val||o.type];case"number":return o.val;case"variable":if(o.val.length>1){return'"'+o.val+'"'}else{return o.val}case"ifelse":return ifelse["if"][lang]+textprinter(o.objs[0],0,o,lang)+ifelse["then"][lang]+textprinter(o.objs[1],1,o,lang)+ifelse["else"][lang]+textprinter(o.objs[2],2,o,lang);case"void":return"<mstyle mathcolor='red'><mi>&#8224;</mi></mstyle>";case"relation":return textprinter(o.objs[0],0,o,lang)+binaryops[o.val]+textprinter(o.objs[1],1,o,lang);case"varcount":case"absolute":case"plusminus":case"negation":case"NOT":return(preunary[o.type][lang]||preunary[o.type])+textprinter(o.objs[0],0,o,lang);case"ispolynomial":case"ismonomial":case"ismonfac":case"isinteger":case"isprime":return textprinter(o.objs[0],0,o,lang)+(postunary[o.type][lang]||postunary[o.type]);default:if(o.objs&&(bicheat=bicheats[o.type+o.objs[1].type+o.objs[1].val])){return bicheat[lang]+textprinter(o.objs[0],0,o,lang)}else{if((_ref=o.type)==="root"||_ref==="log"){o=deepcopy(o);neworder=[o.objs[1],o.objs[0]];o.objs=neworder}s=textprinter(o.objs[0],0,o,lang);n=0;imp=helpers["implicit"+{product:"mult",sum:"add"}[o.type]];_ref1=o.objs.slice(1);for(_i=0,_len=_ref1.length;_i<_len;_i++){term=_ref1[_i];n++;if(!(imp&&imp(o.objs[n-1],term,true))){s+=binaryops[o.type][lang]||binaryops[o.type]}s+=textprinter(o.objs[n],n,o,lang)}return s}}}();if(helpers.needsparens(o,parent!=null?parent.type:void 0,pos,parent!=null?(_ref=parent.objs)!=null?_ref.length:void 0:void 0,true)){str="("+str+")"}return str};if(typeof exports==="undefined"){exportTo=this.CATS.app}else{exportTo=exports}funs={textprinter:textprinter};for(k in funs){v=funs[k];exportTo[k]=v}}).call(this);