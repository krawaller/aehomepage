(function(){CATS.bb.DemonstrationView=CATS.bb.BaseView.extend({tagName:"div",className:"demonstrationview viewbox",localizeid:"demonstrationview",category:"glossary",events:{"click .buttonexample":"showDemonstration","click .showstepsbutton":"showStepTexts","click .hidestepsbutton":"hideStepTexts"},initialize:function(o){this.listenTo(Backbone,"setlanguage",this.changeExampleList);return this.constructor.__super__.initialize.apply(this,[o])},render:function(){this.setTitle("demonstrationheadline");this.setContent(CATS.cache.templates["#demonstrationtemplate"]);this.setUI("demofirstbox","demosecondbox","togglebox");return this},showItem:function(demoid){var lang;lang=CATS.settings.lang;this.demoid=demoid;this.demodef=CATS.math.demonstrations[demoid];this.drawPreRenderedPart("#DEMONSTRATION"+demoid+" > ."+lang+"_first",this.ui.demofirstbox);return this.drawPreRenderedPart("#DEMONSTRATION"+demoid+" > ."+lang+"_second",this.ui.demosecondbox)},showDemonstration:function(){var carrier,step;if(!this.demodef){console.log("WTF demo utan info?!",this.demoid)}carrier=new CATS.math.Carrier({target:CATS.app.parseExpression(this.demodef.numeric)});carrier["do"]("demonstration","demonstration",{demonstrationname:this.demoid,demonstrationdef:this.demodef});step=carrier.steps[0];return this.$el.trigger("showcalcresult",{result:step})},showStepTexts:function(){return this.ui.togglebox.addClass("togglesecond")},hideStepTexts:function(e){return this.ui.togglebox.removeClass("togglesecond")}})}).call(this);